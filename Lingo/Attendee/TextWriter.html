<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Lingo::Attendee::TextWriter - lingo Application documentation (v1.8.5)</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-Lingo::Attendee::TextWriter-label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung</a>
    <li><a href="#class-Lingo::Attendee::TextWriter-label-Parameter">Parameter</a>
    <li><a href="#class-Lingo::Attendee::TextWriter-label-Beispiele">Beispiele</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">self
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-control">#control</a>
    
    <li ><a href="#method-i-flush_lir_buffer">#flush_lir_buffer</a>
    
    <li ><a href="#method-i-init">#init</a>
    
    <li ><a href="#method-i-process">#process</a>
    
    <li ><a href="#method-i-stdout-3F">#stdout?</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Lingo::Attendee::TextWriter">
  <h1 id="class-Lingo::Attendee::TextWriter" class="class">
    class Lingo::Attendee::TextWriter
  </h1>

  <section class="description">
    
<p>Der <a href="TextWriter.html">TextWriter</a> ermöglicht die Umleitung des
Datenstroms in eine Textdatei. Dabei werden Objekte, die nicht vom Typ
String sind in eine sinnvolle Textrepresentation gewandelt. Der Name der
Ausgabedatei wird durch den Namen der Eingabedatei (des Textreaders)
bestimmt. Es kann lediglich die Extension verändert werden. Der <a
href="TextWriter.html">TextWriter</a> kann auch das LIR-Format erzeugen.</p>

<h3 id="class-Lingo::Attendee::TextWriter-label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung<span><a href="#class-Lingo::Attendee::TextWriter-label-M%C3%B6gliche+Verlinkung">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt>Erwartet
<dd>
<p>Daten verschiedenen Typs</p>
</dd></dl>

<h3 id="class-Lingo::Attendee::TextWriter-label-Parameter">Parameter<span><a href="#class-Lingo::Attendee::TextWriter-label-Parameter">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Kursiv dargestellte Parameter sind optional (ggf. mit Angabe der
Voreinstellung). Alle anderen Parameter müssen zwingend angegeben werden.</p>
<dl class="rdoc-list note-list"><dt><strong>in</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd><dt><strong>out</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd><dt><strong><em>ext</em></strong>
<dd>
<p>(Standard: txt2) Gibt die Dateinamen-Erweiertung für die Ausgabedatei an.
Wird z.B. dem <a href="TextReader.html">TextReader</a> die Datei
<code>Dokument.txt</code> angegeben und über die Lingo-Konfiguration alle
Indexwörter herausgefiltert, kann mit <code>ext: &#39;idx&#39;</code> der
<a href="TextWriter.html">TextWriter</a> veranlasst werden, die Indexwörter
in die Datei <code>Dokument.idx</code> zu schreiben.</p>
</dd><dt><strong><em>sep</em></strong>
<dd>
<p>(Standard: &#39; &#39;) Gibt an, mit welchem Trennzeichen zwei
aufeinanderfolgende Objekte in der Ausgabedatei getrennt werden sollen.
Gängige Werte sind auch noch &#39;n&#39;, welches die Ausgabe jedes
Objektes in eine Zeile ermöglicht.</p>
</dd><dt><strong><em>lir-format</em></strong>
<dd>
<p>(Standard: false) Dieser Parameter hat keinen Wert. Wird er angegeben, dann
wird er als true ausgewertet. Damit ist es möglich, die Ausgabedatei im für
LIR lesbarem Format zu erstellen.</p>
</dd></dl>

<h3 id="class-Lingo::Attendee::TextWriter-label-Beispiele">Beispiele<span><a href="#class-Lingo::Attendee::TextWriter-label-Beispiele">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Bei der Verarbeitung der oben angegebenen Funktionsbeschreibung des
Textwriters mit der Ablaufkonfiguration <code>t1.cfg</code></p>

<pre>meeting:
  attendees:
    - text_reader:    { out: lines, files: &#39;$(files)&#39; }
    - tokenizer:      { in: lines, out: token }
    - word_searcher:  { in: token, out: words, source: &#39;sys-dic&#39; }
    - vector_filter:  { in: words, out: filtr, sort: &#39;term_rel&#39; }
    - text_writer:    { in: filtr, ext: &#39;vec&#39;, sep: &#39;\n&#39; }</pre>

<p>ergibt die Ausgabe in der Datei <code>test.vec</code></p>

<pre>0.03846 name
0.01923 ausgabedatei
0.01923 datenstrom
0.01923 extension
0.01923 format
0.01923 objekt
0.01923 string
0.01923 textdatei
0.01923 typ
0.01923 umleitung</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">control</span><span
            class="method-args">(cmd, param)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="control-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/text_writer.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">control</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">param</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">cmd</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_LIR</span>
      <span class="ruby-ivar">@lir</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@lir</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_FILE</span>
      <span class="ruby-ivar">@no_sep</span> = <span class="ruby-keyword">true</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">stdout?</span>(<span class="ruby-ivar">@ext</span>)
        <span class="ruby-ivar">@filename</span>, <span class="ruby-ivar">@file</span> = <span class="ruby-ivar">@ext</span>, <span class="ruby-identifier">lingo</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">stdout</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@filename</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">set_ext</span>(<span class="ruby-identifier">param</span>, <span class="ruby-node">&quot;.#{@ext}&quot;</span>), <span class="ruby-string">&#39;w&#39;</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-ivar">@lir_rec_no</span>, <span class="ruby-ivar">@lir_rec_buf</span> = <span class="ruby-string">&#39;&#39;</span>, []
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_RECORD</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@lir</span>
        <span class="ruby-ivar">@no_sep</span> = <span class="ruby-keyword">true</span>

        <span class="ruby-identifier">flush_lir_buffer</span>
        <span class="ruby-ivar">@lir_rec_no</span> = <span class="ruby-identifier">param</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_EOL</span>
      <span class="ruby-ivar">@no_sep</span> = <span class="ruby-keyword">true</span>

      <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@lir</span>
        <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">puts</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@no_puts</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_EOF</span>
      <span class="ruby-identifier">flush_lir_buffer</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@lir</span>

      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">stdout?</span>(<span class="ruby-ivar">@filename</span>)
        <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="init-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/text_writer.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init</span>
  <span class="ruby-ivar">@ext</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;ext&#39;</span>, <span class="ruby-string">&#39;txt2&#39;</span>)
  <span class="ruby-ivar">@lir</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;lir-format&#39;</span>, <span class="ruby-keyword">false</span>)

  <span class="ruby-ivar">@sep</span>   = <span class="ruby-ivar">@config</span>[<span class="ruby-string">&#39;sep&#39;</span>] <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@lir</span>
  <span class="ruby-ivar">@sep</span> <span class="ruby-operator">&amp;&amp;=</span> <span class="ruby-ivar">@sep</span>.<span class="ruby-identifier">evaluate</span>
  <span class="ruby-ivar">@sep</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&#39; &#39;</span>

  <span class="ruby-ivar">@no_sep</span>, <span class="ruby-ivar">@no_puts</span> = <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-process" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="process-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/text_writer.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">form</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">WordForm</span>)

  <span class="ruby-ivar">@lir</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@lir_rec_buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-ivar">@no_sep</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@no_sep</span> = <span class="ruby-keyword">false</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">print</span>(<span class="ruby-ivar">@sep</span>)
    <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-flush_lir_buffer" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flush_lir_buffer</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="flush_lir_buffer-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/text_writer.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flush_lir_buffer</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@lir_rec_no</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@lir_rec_buf</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">buf</span> = [<span class="ruby-ivar">@lir_rec_no</span>, <span class="ruby-ivar">@lir_rec_buf</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@sep</span>), <span class="ruby-string">&quot;\n&quot;</span>]
    <span class="ruby-ivar">@sep</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\n/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">1</span>, <span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">unshift</span>(<span class="ruby-string">&#39;*&#39;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">1</span>, <span class="ruby-string">&#39;*&#39;</span>)
    <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">print</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">buf</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@lir_rec_no</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-ivar">@lir_rec_buf</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stdout-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stdout?</span><span
            class="method-args">(filename)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="stdout-3F-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/text_writer.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stdout?</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-node">%w[STDOUT -]</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

