<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Lingo::Attendee::Tokenizer - lingo Application documentation (v1.8.4)</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-Lingo::Attendee::Tokenizer-label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung</a>
    <li><a href="#class-Lingo::Attendee::Tokenizer-label-Parameter">Parameter</a>
    <li><a href="#class-Lingo::Attendee::Tokenizer-label-Konfiguration">Konfiguration</a>
    <li><a href="#class-Lingo::Attendee::Tokenizer-label-Generierte+Kommandos">Generierte Kommandos</a>
    <li><a href="#class-Lingo::Attendee::Tokenizer-label-Beispiele">Beispiele</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">self
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-_insert">#_insert</a>
    
    <li ><a href="#method-i-_insert_name">#_insert_name</a>
    
    <li ><a href="#method-i-append">#append</a>
    
    <li ><a href="#method-i-control">#control</a>
    
    <li ><a href="#method-i-delete">#delete</a>
    
    <li ><a href="#method-i-init">#init</a>
    
    <li ><a href="#method-i-insert">#insert</a>
    
    <li ><a href="#method-i-insert_after">#insert_after</a>
    
    <li ><a href="#method-i-insert_before">#insert_before</a>
    
    <li ><a href="#method-i-process">#process</a>
    
    <li ><a href="#method-i-replace">#replace</a>
    
    <li ><a href="#method-i-rule">#rule</a>
    
    <li ><a href="#method-i-rules">#rules</a>
    
    <li ><a href="#method-i-tokenize">#tokenize</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Lingo::Attendee::Tokenizer">
  <h1 id="class-Lingo::Attendee::Tokenizer" class="class">
    class Lingo::Attendee::Tokenizer
  </h1>

  <section class="description">
    
<p>Der <a href="Tokenizer.html">Tokenizer</a> zerlegt eine Textzeile in
einzelne Token. Dies ist notwendig, damit nachfolgende Attendees die
Textdatei häppchenweise verarbeiten können.</p>

<h3 id="class-Lingo::Attendee::Tokenizer-label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung<span><a href="#class-Lingo::Attendee::Tokenizer-label-M%C3%B6gliche+Verlinkung">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt>Erwartet
<dd>
<p>Daten des Typs <strong>String</strong> (Textzeilen) z.B. von <a
href="TextReader.html">TextReader</a></p>
</dd><dt>Erzeugt
<dd>
<p>Daten des Typs <strong>Token</strong> z.B. für <a
href="Abbreviator.html">Abbreviator</a>, Wordsearcher</p>
</dd></dl>

<h3 id="class-Lingo::Attendee::Tokenizer-label-Parameter">Parameter<span><a href="#class-Lingo::Attendee::Tokenizer-label-Parameter">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Kursiv dargestellte Parameter sind optional (ggf. mit Angabe der
Voreinstellung). Alle anderen Parameter müssen zwingend angegeben werden.</p>
<dl class="rdoc-list note-list"><dt><strong>in</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a>.</p>
</dd><dt><strong>out</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd></dl>

<h3 id="class-Lingo::Attendee::Tokenizer-label-Konfiguration">Konfiguration<span><a href="#class-Lingo::Attendee::Tokenizer-label-Konfiguration">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Der <a href="Tokenizer.html">Tokenizer</a> benötigt zur Identifikation
einzelner Token Regeln, nach denen er arbeiten soll. Die benötigten Regeln
werden aufgrund des Umfangs nicht als Parameter, sondern in einer
Programmkonstanten hinterlegt. Die Regeln werden in der angegebenen
Reihenfolge abgearbeitet, solange bis ein Token erkannt wurde. Sollte keine
Regel zutreffen, so greift die letzt Regel <code>HELP</code> in jedem Fall.</p>

<h3 id="class-Lingo::Attendee::Tokenizer-label-Generierte+Kommandos">Generierte Kommandos<span><a href="#class-Lingo::Attendee::Tokenizer-label-Generierte+Kommandos">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Damit der nachfolgende Datenstrom einwandfrei verarbeitet werden kann,
generiert der <a href="Tokenizer.html">Tokenizer</a> Kommandos, die mit in
den Datenstrom eingefügt werden.</p>
<dl class="rdoc-list note-list"><dt><strong>*EOL(&lt;dateiname&gt;)</strong>
<dd>
<p>Kennzeichnet das Ende einer Textzeile, da die Information ansonsten</p>
</dd></dl>

<p>für nachfolgende Attendees verloren wäre.</p>

<h3 id="class-Lingo::Attendee::Tokenizer-label-Beispiele">Beispiele<span><a href="#class-Lingo::Attendee::Tokenizer-label-Beispiele">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Bei der Verarbeitung einer normalen Textdatei mit der Ablaufkonfiguration
<code>t1.cfg</code></p>

<pre>meeting:
  attendees:
    - text_reader: { out: lines, files: &#39;$(files)&#39; }
    - tokenizer:   { in: lines, out: token }
    - debugger:    { in: token, prompt: &#39;out&gt;&#39; }</pre>

<p>ergibt die Ausgabe über den Debugger: <code>lingo -c t1 test.txt</code></p>

<pre>out&gt; *FILE(&#39;test.txt&#39;)
out&gt; :Dies/WORD:
out&gt; :ist/WORD:
out&gt; :eine/WORD:
out&gt; :Zeile/WORD:
out&gt; :./PUNC:
out&gt; *EOL(&#39;test.txt&#39;)
out&gt; :Dies/WORD:
out&gt; :ist/WORD:
out&gt; :noch/WORD:
out&gt; :eine/WORD:
out&gt; :./PUNC:
out&gt; *EOL(&#39;test.txt&#39;)
out&gt; *EOF(&#39;test.txt&#39;)</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="DIGIT">DIGIT
        
        <dd>
        
      
        <dt id="RULES">RULES
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-append" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">append</span><span
            class="method-args">(*rules)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="append-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">append</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
  <span class="ruby-identifier">_insert</span>(<span class="ruby-value">-1</span>, <span class="ruby-identifier">rules</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">(*names)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">rules</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span><span class="ruby-operator">|</span> <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">rule</span>) } }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-insert" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">insert</span><span
            class="method-args">(*rules)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="insert-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
  <span class="ruby-identifier">_insert</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">rules</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-insert_after" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">insert_after</span><span
            class="method-args">(name, *rules)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="insert_after-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_after</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
  <span class="ruby-identifier">_insert_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">rules</span>, <span class="ruby-value">-1</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-insert_before" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">insert_before</span><span
            class="method-args">(name, *rules)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="insert_before-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_before</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
  <span class="ruby-identifier">_insert_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">rules</span>, <span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-replace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace</span><span
            class="method-args">(name, expr = nil) { |*rule| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="replace-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">expr</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">rules</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span><span class="ruby-operator">|</span> <span class="ruby-identifier">rule</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">expr</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rule</span>) }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rule" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rule</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rule-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rule</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rules" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rules</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rules-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rules</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span>,<span class="ruby-operator">|</span> <span class="ruby-identifier">rule</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">control</span><span
            class="method-args">(cmd, param)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="control-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">control</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">param</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">cmd</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_FILE</span> <span class="ruby-keyword">then</span> <span class="ruby-ivar">@filename</span> = <span class="ruby-identifier">param</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_LIR</span>  <span class="ruby-keyword">then</span> <span class="ruby-ivar">@filename</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_EOF</span>  <span class="ruby-keyword">then</span> <span class="ruby-ivar">@cont</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="init-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init</span>
  <span class="ruby-ivar">@space</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;space&#39;</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@tags</span>  = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;tags&#39;</span>,  <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@wiki</span>  = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;wiki&#39;</span>,  <span class="ruby-keyword">false</span>)

  <span class="ruby-identifier">skip</span> = []
  <span class="ruby-identifier">skip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;HTML&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@tags</span>
  <span class="ruby-identifier">skip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;WIKI&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@wiki</span>

  <span class="ruby-ivar">@rules</span> = <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">_</span><span class="ruby-operator">|</span> <span class="ruby-identifier">skip</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>) }

  <span class="ruby-ivar">@filename</span> = <span class="ruby-ivar">@cont</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-process" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="process-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
    <span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">obj</span>) { <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">forward</span>(<span class="ruby-constant">Token</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">i</span>)) }
    <span class="ruby-identifier">forward</span>(<span class="ruby-constant">STR_CMD_EOL</span>, <span class="ruby-ivar">@filename</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@filename</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">forward</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-_insert" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_insert</span><span
            class="method-args">(index, rules)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="_insert-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_insert</span>(<span class="ruby-identifier">index</span>, <span class="ruby-identifier">rules</span>)
  <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>.<span class="ruby-identifier">pop</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
  <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">index</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-_insert_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_insert_name</span><span
            class="method-args">(name, rules, offset)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="_insert_name-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_insert_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">rules</span>, <span class="ruby-identifier">offset</span>)
  <span class="ruby-identifier">index</span> = <span class="ruby-constant">RULES</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">rule</span>(<span class="ruby-identifier">name</span>))
  <span class="ruby-identifier">_insert</span>(<span class="ruby-identifier">index</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">index</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">offset</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">rules</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tokenize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tokenize</span><span
            class="method-args">(line) { |$&, cont| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>tokenize(“Eine Zeile.”)  -&gt;  [:Eine/WORD:, :Zeile/WORD:, :./PUNC:]</p>
          
          

          
          <div class="method-source-code" id="tokenize-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/tokenizer.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">line</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@cont</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;HTML&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[^&lt;&gt;]*&gt;/</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-node">$&amp;</span>, <span class="ruby-ivar">@cont</span>
        <span class="ruby-identifier">line</span>, <span class="ruby-ivar">@cont</span> = <span class="ruby-node">$&#39;</span>, <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-identifier">line</span>, <span class="ruby-ivar">@cont</span>
        <span class="ruby-keyword">return</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;WIKI&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[^\[\]]*\]\]/</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-node">$&amp;</span>, <span class="ruby-ivar">@cont</span>
        <span class="ruby-identifier">line</span>, <span class="ruby-ivar">@cont</span> = <span class="ruby-node">$&#39;</span>, <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-identifier">line</span>, <span class="ruby-ivar">@cont</span>
        <span class="ruby-keyword">return</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@tags</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/&lt;[^&lt;&gt;]*$/</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-node">$&amp;</span>, <span class="ruby-ivar">@cont</span> = <span class="ruby-string">&#39;HTML&#39;</span>
        <span class="ruby-identifier">line</span> = <span class="ruby-node">$`</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@wiki</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\[\[[^\[\]]*$/</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-node">$&amp;</span>, <span class="ruby-ivar">@cont</span> = <span class="ruby-string">&#39;WIKI&#39;</span>
        <span class="ruby-identifier">line</span> = <span class="ruby-node">$`</span>
      <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">l</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">expr</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">expr</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-node">$&amp;</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;SPAC&#39;</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@space</span>
      <span class="ruby-identifier">l</span> <span class="ruby-operator">==</span> <span class="ruby-node">$&#39;</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">break</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">line</span> = <span class="ruby-node">$&#39;</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

